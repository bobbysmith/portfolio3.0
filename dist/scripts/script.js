"use strict";function generateAutomata(){ruleNumber=Math.floor(256*Math.random())+0,background.innerHTML="",ruleSet.innerHTML='<a href="http://atlas.wolfram.com/01/01/'+ruleNumber+'/" target="_blank" rel="noopener noreferrer">rule '+ruleNumber+"</a>";var e=document.createElement("div");e.setAttribute("class","row"),background.appendChild(e);for(var t=1;t<background.clientWidth/8;t++){var o=document.createElement("div");e.appendChild(o)}randomizeRow(e);for(var r=1;r<background.clientHeight/8;r++)duplicateRow()}function numberToBooleanArray(e){for(var t=Number(e).toString(2),o=[];t.length<8;)t=0+t;for(var r=0;r<t.length;r++)o.push(!!parseInt(t[r]));return o}function randomizeRow(e){for(var t=0;t<e.childNodes.length;t++){var o=e.childNodes[t];o.classList.add(Math.floor(2*Math.random())?"active":"inactive")}}function duplicateRow(){var e=document.querySelectorAll(".row"),t=e[e.length-1],o=t.cloneNode(!0);document.querySelector(".background").appendChild(o),processRow(o,t)}function processRow(e,t){for(var o=0;o<e.childNodes.length;o++)for(var r=e.childNodes[o],n=t.childNodes[o],a=n.previousElementSibling||t.childNodes[t.childNodes.length-1],l=n.nextElementSibling||t.childNodes[0],c=setActiveIfMatchesRule.bind(null,r,a,n,l),u=0;u<rulesIcon.length;u++)c(rulesIcon[u],numberToBooleanArray(ruleNumber)[u])}function setActiveIfMatchesRule(e,t,o,r,n,a){var l=state(t)===n[0]&&state(o)===n[1]&&state(r)===n[2];l&&toggleActive(e,a)}function state(e){return e.classList.contains("active")?1:0}function toggleActive(e,t){t?(e.classList.remove("inactive"),e.classList.add("active")):(e.classList.remove("active"),e.classList.add("inactive"))}var background=document.querySelector(".background"),row=document.querySelector(".row"),ruleSet=document.querySelector(".rule"),newRuleButton=document.querySelector(".new-rule__button"),rulesIcon=[[1,1,1],[1,1,0],[1,0,1],[1,0,0],[0,1,1],[0,1,0],[0,0,1],[0,0,0]],ruleNumber=void 0;generateAutomata(),newRuleButton.addEventListener("click",generateAutomata),console.log(" _____ _____ __    __    _____\n|  |  |   __|  |  |  |  |     |\n|     |   __|  |__|  |__|  |  |\n|__|__|_____|_____|_____|_____|"),console.log("i see you like poking around in the dev console, me too.\nlet's work together.");